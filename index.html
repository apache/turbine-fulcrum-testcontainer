<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from xdocs/index.xml at 14 Sep 2021
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Quinton McCombs" />
    <meta name="author" content="Eric Pugh" />
    <title>Fulcrum Test Container &#x2013; Test Container</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="../../" id="bannerLeft" title="Apache Turbine"><img src="../../images/turbine-project.png"  alt="Apache Turbine"/></a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 14 Sep 2021<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.10-SNAPSHOT</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="../" title="Fulcrum">Fulcrum</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="../../" title="Turbine">Turbine</a></li>
      <li class="pull-right"><a href="https://www.apache.org" class="externalLink" title="Apache">Apache</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li class="active"><a href="#"><span class="none"></span>Main</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
     <ul class="nav nav-list">
      <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
      <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a></li>
      <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a></li>
      <li class="active"><a href="#"><span class="none"></span>About</a></li>
      <li><a href="issue-management.html" title="Issue Management"><span class="none"></span>Issue Management</a></li>
      <li><a href="licenses.html" title="Licenses"><span class="none"></span>Licenses</a></li>
      <li><a href="mailing-lists.html" title="Mailing Lists"><span class="none"></span>Mailing Lists</a></li>
      <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a></li>
      <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a></li>
      <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a></li>
      <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a></li>
      <li><a href="team.html" title="Team"><span class="none"></span>Team</a></li>
     </ul></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Apache</li>
    <li><a href="https://www.apache.org/" class="externalLink" title="Apache Website"><span class="none"></span>Apache Website</a></li>
    <li><a href="https://www.apache.org/licenses/" class="externalLink" title="License"><span class="none"></span>License</a></li>
    <li><a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works"><span class="none"></span>How the ASF works</a></li>
    <li><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship"><span class="none"></span>Sponsorship</a></li>
    <li><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks"><span class="none"></span>Thanks</a></li>
    <li><a href="https://www.apache.org/security/" class="externalLink" title="Security"><span class="none"></span>Security</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >


  

    <section>
<h2><a name="Overview"></a>Overview</h2>
      
<p> This component is really just a test container for testing the other components. This
        container is not meant to be used in a production environment. </p>
      
      <section>
<h3><a name="JUnit_Integration"></a>JUnit Integration</h3>
      
<p>Find more information about <a class="externalLink" href="https://junit.org/junit5/docs/current/user-guide/#migrating-from-junit4-running">migration to Junit5 here</a>. JUnit 3 and JUnit 4 ((<code>org.apache.fulcrum.testcontainer.BaseUnitTest</code>, <code>org.apache.fulcrum.testcontainer.BaseUnit4Test</code>) are still supported.
         IDEs (Eclipse/IntelliJ 2018.x) and Surefire Plugin 3.x should be able to handle all flavors. Running a JUnit 4 test in older IDE versions may require a test class annotation (@RunWith(JUnitPlatform.class)).</p>        
         </section>
    </section>

    <section>
<h2><a name="Usage"></a>Usage</h2>
    
     <section>
<h3><a name="Extending_the_test_case"></a>Extending the test case</h3>
       
<p> In order to save you a little coding, a base class has been provided for your test cases.
        Simply extend <code>org.apache.fulcrum.testcontainer.BaseUnit5Test</code> for JUnit 5 and you are ready to go!</p>

        
<p> The <code>lookup</code> and <code>tearDown</code> methods of <code>BaseUnit5Test</code>
          will handle the lifecycle of the container for you. Each test will have a freshly
          initialized container in which to run. 
        </p>
        
<p> To lookup and release components, call the <code>lookup</code> and <code>release</code>
          methods of <code>BaseUnit5Test</code>. 
        </p>
        
<p> By default, all tests will use the configuration files
          <code>TestComponentConfig.xml</code> and <code>TestRoleConfig.xml</code> located in the
            <code>src/test</code> directory. If you want to override that behavior for ALL your
          tests, you can override the <code>getConfigurationFileName()</code> and/or
            <code>getRoleFileName()</code> methods. 
        </p>
        
<p> If you are testing multiple config or role files, then just call
            <code>setConfigurationFileName()</code> or <code>setRoleFileName()</code> before doing
          your first lookup. The string you pass in should be prefixed from the directory the JVM is
          running in (e.g. src/test/YOUR_CONFIG.xml). 
        </p>
        
<p> You can choose between two container implementations, the ECM and Fulcrum YAAFI. For this
          just assign one of the values BaseUnit5Test.CONTAINER_ECM or BaseUnit5Test.CONTAINER_YAAFI to
          the static variable BaseUnit5Test.containerType before doing the first lookup. The default
          container is Fulcrum YAAFI.
        </p>
      </section>

      <section>
<h3><a name="Using_the_container_directly"></a>Using the container directly</h3>
        
<p> If you need more control over the container itself for your test, just don't extend the
          unit test provided with the container. Instead, embed the container directly in your test
          case. See the java docs for <code>org.apache.fulcrum.testcontainer.Container</code> for
          more information. 
        </p>
      </section>

      <section>
<h3><a name="Configuring_the_Components"></a>Configuring the Components</h3>
        
<p> There are two ways of configuring your components. One is the traditional
          TestComponentConfig.xml and TestRoleConfig.xml files described below. Or, for the ECMContainer
          one is available that integrates the two, shown at the bottom. 
        </p>
        
<p> First, here is the role configuration example.</p>
        
<div class="source"><pre class="prettyprint">

&lt;role
  name=&quot;org.apache.fulcrum.crypto.CryptoService&quot;
  shorthand=&quot;crypto&quot;
  default-class=&quot;org.apache.fulcrum.crypto.DefaultCryptoService&quot;/&gt;

        </pre></div>

        
<p> Now comes the basic configuration of the component. Here will will configure the various
          encryption providers. 
        </p>

        
<div class="source"><pre class="prettyprint">

&lt;crypto&gt;
  &lt;algorithm&gt;
    &lt;unix&gt;org.apache.fulcrum.crypto.provider.UnixCrypt&lt;/unix&gt;
    &lt;clear&gt;org.apache.fulcrum.crypto.provider.ClearCrypt&lt;/clear&gt;
    &lt;java&gt;org.apache.fulcrum.crypto.provider.JavaCrypt&lt;/java&gt;
    &lt;oldjava&gt;org.apache.fulcrum.crypto.provider.OldJavaCrypt&lt;/oldjava&gt;

  &lt;/algorithm&gt;
&lt;/crypto&gt;

        </pre></div>

        
<p>When using the ECM container you can choose to use an integrated roles and components file
          like follows. Note that this file format is not supported with Fulcrum YAAFI and will cause
          an Exception to be thrown.
        </p>

        
<div class="source"><pre class="prettyprint">

&lt;my-system&gt;
  &lt;component
    role=&quot;org.apache.fulcrum.testcontainer.SimpleComponent&quot;
    class=&quot;org.apache.fulcrum.testcontainer.AlternativeComponentImpl&quot;&gt;
  &lt;/component&gt;
&lt;/my-system&gt;

        </pre></div>
      </section>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2004&#x2013;2021
<a href="https://www.apache.org/">The Apache Software Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
